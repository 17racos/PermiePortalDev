# Helper method to create or update a plant
def create_or_update_plant(attributes)
  plant = Plant.find_by(common_name: attributes[:common_name])
  if plant
    puts "Updating #{attributes[:common_name]}"
    plant.update!(attributes)
  else
    puts "Creating #{attributes[:common_name]}"
    Plant.create!(attributes)
  end
rescue ActiveRecord::RecordInvalid => e
  puts "Failed to seed #{attributes[:common_name]}: #{e.message}"
end

# Seed data
plants = [plant 
  {
    common_name: "",
    picture: ".png",
    scientific_name: "",
    family: "",
    zone: "",
    perennial: true,
    layers: [],
    plant_function: [],
    conditions: "",
    companions: "",
    avoid: "",
    pests: ""
  }
  ]
  {
    description: "",
    purpose: <<-DESCRIPTION
  DESCRIPTION

  }  
  # Seed plants
  plants.each { |attributes| create_or_update_plant(attributes) }
